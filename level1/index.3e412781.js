function $parcel$export(e,t,o,i){Object.defineProperty(e,t,{get:o,set:i,enumerable:!0,configurable:!0})}var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},$parcel$modules={},$parcel$inits={},parcelRequire=$parcel$global.parcelRequiredf3e;null==parcelRequire&&(parcelRequire=function(e){if(e in $parcel$modules)return $parcel$modules[e].exports;if(e in $parcel$inits){var t=$parcel$inits[e];delete $parcel$inits[e];var o={id:e,exports:{}};return $parcel$modules[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i},parcelRequire.register=function(e,t){$parcel$inits[e]=t},$parcel$global.parcelRequiredf3e=parcelRequire),parcelRequire.register("2RQXo",(function(module,exports){var $4xklQ=parcelRequire("4xklQ"),$bsNDL=parcelRequire("bsNDL"),$7FzN9=parcelRequire("7FzN9"),$1M2iF=parcelRequire("1M2iF"),$cCC00=parcelRequire("cCC00"),$hfAuX=parcelRequire("hfAuX"),$8TDdX=parcelRequire("8TDdX"),$dhcg3=parcelRequire("dhcg3");const sceneProperties={cancelExecution:!1,timer:0,phase:0},logModal=new(0,$8TDdX.Modal)(document.getElementById("logModal"));let timerUpadate;function updateTime(){sceneProperties.timer++}const editor=(0,$bsNDL.generateDefaultEditor)(document.getElementById("editorArea"),{lineNumbers:!0}),andarFrenteBtn=document.getElementById("andarFrente");andarFrenteBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"andarFrente(?)\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"andarFrente(?)\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const andarTrasBtn=document.getElementById("andarTras");andarTrasBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"andarTras(?)\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"andarTras(?)\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const girarEsquerdaBtn=document.getElementById("girarEsquerda");girarEsquerdaBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"girarEsquerda()\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"girarEsquerda()\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const girarDireitaBtn=document.getElementById("girarDireita");girarDireitaBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"girarDireita()\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"girarDireita()\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const darMeiaVoltaBtn=document.getElementById("darMeiaVolta");darMeiaVoltaBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"darMeiaVolta()\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"darMeiaVolta()\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const coletarCristalBtn=document.getElementById("coletarCristal");coletarCristalBtn.addEventListener("click",(()=>{let e,t,o=editor.state.selection.main.anchor,i=editor.state.selection.main.head;o<=i?(e=editor.state.update({changes:{from:o,to:i,insert:"coletarCristal()\n"}}),t=editor.state.doc.lineAt(o).number):(e=editor.state.update({changes:{from:i,to:o,insert:"coletarCristal()\n"}}),t=editor.state.doc.lineAt(i).number),editor.dispatch(e),editor.focus();let r=editor.state.doc.line(t+1).to;editor.dispatch({selection:{anchor:r}})}));const consoleElement=document.getElementById("consoleArea"),{renderer:renderer,scene:scene,camera:camera,controls:controls}=(0,$7FzN9.generateDefaultSceneObjects)(document.getElementById("phaseView")),gridMapHelper=new(0,$1M2iF.default),plane=gridMapHelper.createGridPlane(),actor=(0,$7FzN9.loadDefaultActor)();let objectives,walls,traps,spikeTrapState,setSpikeTrapState,setSpikeTrapStateInterval,coletarCristal,resetLevel,winCondition;async function andarFrente(e){let t=e>10?10:e;await(0,$7FzN9.translateActor)(actor,t,gridMapHelper,sceneProperties,consoleElement)}async function andarTras(e){let t=e>10?10:e;await(0,$7FzN9.translateActor)(actor,-t,gridMapHelper,sceneProperties,consoleElement)}async function girarEsquerda(){await(0,$7FzN9.rotateActor)(actor,90,sceneProperties,1)}async function girarDireita(){await(0,$7FzN9.rotateActor)(actor,90,sceneProperties,-1)}async function darMeiaVolta(){await(0,$7FzN9.rotateActor)(actor,180,sceneProperties,1)}scene.add(plane),scene.add(actor);const phaseGeneration=[];function removeObjects(e,t,o){if(null!=e)for(let t=0;t<e.length;t++)scene.remove(e[t]);if(null!=t){for(let e=0;e<t.length;e++)scene.remove(t[e]);gridMapHelper.clearObstacles()}if(null!=o){for(let e=0;e<o.length;e++)scene.remove(o[e]);gridMapHelper.clearTraps()}e=void 0,t=void 0,o=void 0}function animate(){requestAnimationFrame(animate),controls.update(),renderer.render(scene,camera),(0,$hfAuX.displayTime)(sceneProperties.timer,document.getElementById("timer"))}phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 1 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar ao cristal, após isso, o colete.",camera.position.set(0,15,30),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(1),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(9),0,gridMapHelper.getGlobalZPositionFromCoord(5)),gridMapHelper.addObstacle(9,9,5,5),scene.add(objectives[0]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado com sucesso.\n",gridMapHelper.obstacles[0].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n")},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,gridMapHelper.obstacles[0].active=!0},winCondition=()=>!objectives[0].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 2 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar ao cristal, após isso, o colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(1),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(8),0,gridMapHelper.getGlobalZPositionFromCoord(2)),gridMapHelper.addObstacle(8,8,2,2),scene.add(objectives[0]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado com sucesso.\n",gridMapHelper.obstacles[0].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n")},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,gridMapHelper.obstacles[0].active=!0},winCondition=()=>!objectives[0].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 3 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar aos cristais, após isso, os colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(2),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(2),0,gridMapHelper.getGlobalZPositionFromCoord(6)),objectives[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(7),0,gridMapHelper.getGlobalZPositionFromCoord(1)),gridMapHelper.addObstacle(2,2,6,6),gridMapHelper.addObstacle(7,7,1,1),scene.add(objectives[0]),scene.add(objectives[1]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[0].active=!1):(0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[1],gridMapHelper)?(objectives[1].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[1].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n",objectives[0].visible||objectives[1].visible||(consoleElement.innerText+="Todos os cristais coletados com sucesso!\n"))},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,objectives[1].visible=!0,gridMapHelper.obstacles[0].active=!0,gridMapHelper.obstacles[1].active=!0},winCondition=()=>!objectives[0].visible&&!objectives[1].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 4 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar ao cristal, após isso, o colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(1),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(9),0,gridMapHelper.getGlobalZPositionFromCoord(5)),gridMapHelper.addObstacle(9,9,5,5),scene.add(objectives[0]),walls=[];const e=new $4xklQ.BoxGeometry(2,2,2),t=new $4xklQ.MeshLambertMaterial({color:"rgb(0,255,0)"});walls.push(new $4xklQ.Mesh(e,t)),walls[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(7),1,gridMapHelper.getGlobalXPositionFromCoord(5)),gridMapHelper.addObstacle(7,7,5,5),scene.add(walls[0]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado com sucesso.\n",gridMapHelper.obstacles[0].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n")},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,gridMapHelper.obstacles[0].active=!0},winCondition=()=>!objectives[0].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 5 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar aos cristais, após isso, os colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(2),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(6),0,gridMapHelper.getGlobalZPositionFromCoord(2)),objectives[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(7),0,gridMapHelper.getGlobalZPositionFromCoord(8)),gridMapHelper.addObstacle(6,6,2,2),gridMapHelper.addObstacle(7,7,8,8),scene.add(objectives[0]),scene.add(objectives[1]),walls=[];const e=new $4xklQ.BoxGeometry(6,2,2),t=new $4xklQ.BoxGeometry(4,2,2),o=new $4xklQ.MeshLambertMaterial({color:"rgb(0,255,0)"});walls.push(new $4xklQ.Mesh(e,o)),walls.push(new $4xklQ.Mesh(t,o)),walls[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(6),1,gridMapHelper.getGlobalXPositionFromCoord(7)),walls[1].rotateY((0,$7FzN9.degreeToRadians)(90)),walls[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),1,gridMapHelper.getGlobalXPositionFromCoord(2.5)),gridMapHelper.addObstacle(5,7,7,7),gridMapHelper.addObstacle(5,5,2,3),scene.add(walls[0]),scene.add(walls[1]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[0].active=!1):(0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[1],gridMapHelper)?(objectives[1].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[1].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n",objectives[0].visible||objectives[1].visible||(consoleElement.innerText+="Todos os cristais coletados com sucesso!\n"))},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,objectives[1].visible=!0,gridMapHelper.obstacles[0].active=!0,gridMapHelper.obstacles[1].active=!0},winCondition=()=>!objectives[0].visible&&!objectives[1].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 6 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar ao cristal, após isso, o colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(1),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(8),0,gridMapHelper.getGlobalZPositionFromCoord(0)),gridMapHelper.addObstacle(8,8,0,0),scene.add(objectives[0]),walls=[];const e=new $4xklQ.BoxGeometry(14,2,2),t=new $4xklQ.BoxGeometry(16,2,2),o=new $4xklQ.BoxGeometry(2,2,4),i=new $4xklQ.MeshLambertMaterial({color:"rgb(0,255,0)"});walls.push(new $4xklQ.Mesh(e,i)),walls.push(new $4xklQ.Mesh(t,i)),walls.push(new $4xklQ.Mesh(o,i)),walls[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),1,gridMapHelper.getGlobalZPositionFromCoord(2)),walls[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(5.5),1,gridMapHelper.getGlobalZPositionFromCoord(4)),walls[2].position.set(gridMapHelper.getGlobalXPositionFromCoord(7),1,gridMapHelper.getGlobalZPositionFromCoord(.5)),gridMapHelper.addObstacle(2,8,2,2),gridMapHelper.addObstacle(2,9,4,4),gridMapHelper.addObstacle(7,7,0,1),scene.add(walls[0]),scene.add(walls[1]),scene.add(walls[2]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado com sucesso.\n",gridMapHelper.obstacles[0].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n")},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,gridMapHelper.obstacles[0].active=!0},winCondition=()=>!objectives[0].visible,timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 7 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar ao cristal, após isso, o colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(1),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(9),0,gridMapHelper.getGlobalZPositionFromCoord(0)),gridMapHelper.addObstacle(9,9,0,0),scene.add(objectives[0]),walls=[];const e=new $4xklQ.BoxGeometry(14,2,2),t=new $4xklQ.BoxGeometry(16,2,2),o=new $4xklQ.BoxGeometry(2,2,8),i=new $4xklQ.MeshLambertMaterial({color:"rgb(0,255,0)"});walls.push(new $4xklQ.Mesh(e,i)),walls.push(new $4xklQ.Mesh(t,i)),walls.push(new $4xklQ.Mesh(o,i)),walls.push(new $4xklQ.Mesh(e,i)),walls[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),1,gridMapHelper.getGlobalZPositionFromCoord(4)),walls[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(5.5),1,gridMapHelper.getGlobalZPositionFromCoord(8)),walls[2].position.set(gridMapHelper.getGlobalXPositionFromCoord(8),1,gridMapHelper.getGlobalZPositionFromCoord(1.5)),walls[3].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),1,gridMapHelper.getGlobalZPositionFromCoord(6)),gridMapHelper.addObstacle(2,8,4,4),gridMapHelper.addObstacle(2,8,6,6),gridMapHelper.addObstacle(8,8,0,3),gridMapHelper.addObstacle(2,9,8,8),scene.add(walls[0]),scene.add(walls[1]),scene.add(walls[2]),scene.add(walls[3]),traps=[],traps.push(new(0,$dhcg3.SpikeTrap)),traps[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(8),0,gridMapHelper.getGlobalZPositionFromCoord(5)),gridMapHelper.addTrap(8,5,traps[0]),scene.add(traps[0]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado com sucesso.\n",gridMapHelper.obstacles[0].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n")},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(5)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,gridMapHelper.obstacles[0].active=!0},winCondition=()=>!objectives[0].visible,spikeTrapState=0,setSpikeTrapState=()=>{0==spikeTrapState?(0,$dhcg3.trapsDeactivation)(traps):(0,$dhcg3.trapsActivation)(traps)},setSpikeTrapStateInterval=setInterval((()=>{sceneProperties.executing||(spikeTrapState=(spikeTrapState+1)%2,setSpikeTrapState())}),1e3),timerUpadate=setInterval(updateTime,1e3)})),phaseGeneration.push((()=>{document.getElementById("phaseTitle").innerText="Nível 1 - Fase 8 de 8",document.getElementById("phaseObjective").innerText="Faça o robô chegar aos cristais, após isso, os colete.",camera.position.set(0,15,30),camera.rotation.set(0,0,0),actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),objectives=(0,$7FzN9.loadDefaultObjectives)(3),objectives[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(6),0,gridMapHelper.getGlobalZPositionFromCoord(2)),objectives[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(7),0,gridMapHelper.getGlobalZPositionFromCoord(8)),objectives[2].position.set(gridMapHelper.getGlobalXPositionFromCoord(2),0,gridMapHelper.getGlobalZPositionFromCoord(5)),gridMapHelper.addObstacle(6,6,2,2),gridMapHelper.addObstacle(7,7,8,8),gridMapHelper.addObstacle(2,2,5,5),scene.add(objectives[0]),scene.add(objectives[1]),scene.add(objectives[2]),walls=[];const e=new $4xklQ.BoxGeometry(6,2,2),t=new $4xklQ.BoxGeometry(4,2,2),o=new $4xklQ.MeshLambertMaterial({color:"rgb(0,255,0)"});walls.push(new $4xklQ.Mesh(e,o)),walls.push(new $4xklQ.Mesh(t,o)),walls.push(new $4xklQ.Mesh(e,o)),walls[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(6),1,gridMapHelper.getGlobalXPositionFromCoord(7)),walls[1].rotateY((0,$7FzN9.degreeToRadians)(90)),walls[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),1,gridMapHelper.getGlobalZPositionFromCoord(2.5)),walls[2].position.set(gridMapHelper.getGlobalXPositionFromCoord(2),1,gridMapHelper.getGlobalZPositionFromCoord(4)),gridMapHelper.addObstacle(5,7,7,7),gridMapHelper.addObstacle(5,5,2,3),gridMapHelper.addObstacle(1,3,4,4),scene.add(walls[0]),scene.add(walls[1]),scene.add(walls[2]),traps=[],traps.push(new(0,$dhcg3.SpikeTrap)),traps.push(new(0,$dhcg3.SpikeTrap)),traps.push(new(0,$dhcg3.SpikeTrap)),traps[0].position.set(gridMapHelper.getGlobalXPositionFromCoord(1),0,gridMapHelper.getGlobalZPositionFromCoord(5)),traps[1].position.set(gridMapHelper.getGlobalXPositionFromCoord(6),0,gridMapHelper.getGlobalZPositionFromCoord(3)),traps[2].position.set(gridMapHelper.getGlobalXPositionFromCoord(5),0,gridMapHelper.getGlobalZPositionFromCoord(8)),gridMapHelper.addTrap(1,5,traps[0]),gridMapHelper.addTrap(6,3,traps[1]),gridMapHelper.addTrap(5,8,traps[2]),scene.add(traps[0]),scene.add(traps[1]),scene.add(traps[2]),coletarCristal=()=>{sceneProperties.cancelExecution||((0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[0],gridMapHelper)?(objectives[0].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[0].active=!1):(0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[1],gridMapHelper)?(objectives[1].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[1].active=!1):(0,$7FzN9.checkCollision)(actor.getObjectByName("interactionReference"),objectives[2],gridMapHelper)?(objectives[2].visible=!1,consoleElement.innerText+="Cristal coletado.\n",gridMapHelper.obstacles[2].active=!1):consoleElement.innerText+="Robô não está em frente ao cristal.\n",objectives[0].visible||objectives[1].visible||objectives[2].visible||(consoleElement.innerText+="Todos os cristais coletados com sucesso!\n"))},resetLevel=()=>{actor.position.set(gridMapHelper.getGlobalXPositionFromCoord(0),1,gridMapHelper.getGlobalZPositionFromCoord(2)),actor.rotation.set(0,(0,$7FzN9.degreeToRadians)(90),0),actor.getObjectByName("eve").rotation.set(0,0,0),objectives[0].visible=!0,objectives[1].visible=!0,objectives[2].visible=!0,gridMapHelper.obstacles[0].active=!0,gridMapHelper.obstacles[1].active=!0,gridMapHelper.obstacles[2].active=!0},winCondition=()=>!(objectives[0].visible||objectives[1].visible||objectives[2].visible),spikeTrapState=0,setSpikeTrapState=()=>{0==spikeTrapState?(0,$dhcg3.trapsDeactivation)(traps):(0,$dhcg3.trapsActivation)(traps)},setSpikeTrapStateInterval=setInterval((()=>{sceneProperties.executing||(spikeTrapState=(spikeTrapState+1)%2,setSpikeTrapState())}),1e3),document.getElementById("winMessage").innerText="Nível Concluído",document.getElementById("advanceBtn").innerText="Finalizar",timerUpadate=setInterval(updateTime,1e3)})),window.addEventListener("resize",(()=>{(0,$7FzN9.resizeCanvasToDisplaySize)(renderer,camera)}));const finishEarlierButton=document.getElementById("finishEarlier"),execBtn=document.getElementById("execBtn");execBtn.addEventListener("click",(async function(){const codeParsed=(0,$cCC00.default)(editor.state.doc.toString());sceneProperties.cancelExecution=!1,null!=traps&&(0,$dhcg3.trapsDeactivation)(traps),null!=codeParsed&&(resetLevel(),sceneProperties.executing=!0,this.disabled=!0,await eval(codeParsed),winCondition()?($bsNDL.readOnlyState.doc=editor.state.doc,editor.setState($bsNDL.readOnlyState),document.getElementById("winMessage").classList.remove("invisible"),document.getElementById("advanceBtn").classList.remove("invisible"),document.getElementById("resetBtn").disabled=!0,finishEarlierButton.disabled=!0,clearInterval(timerUpadate),sceneProperties.phase==phaseGeneration.length-1&&(0,$hfAuX.configureDataAndUpload)(document.getElementById("name"),document.getElementById("age"),"gender","prog-exp",document.getElementById("subBtn"),sceneProperties.timer,"../","Nível 1/Completo")):(sceneProperties.executing=!1,this.disabled=!1))}));const resetBtn=document.getElementById("resetBtn");resetBtn.addEventListener("click",(()=>{sceneProperties.cancelExecution=!0,resetLevel()}));const advanceBtn=document.getElementById("advanceBtn");advanceBtn.addEventListener("click",(e=>{sceneProperties.phase++,sceneProperties.phase<phaseGeneration.length?(removeObjects(objectives,walls,traps),phaseGeneration[sceneProperties.phase](),editor.setState($bsNDL.editState),consoleElement.innerText=null,document.getElementById("winMessage").classList.add("invisible"),document.getElementById("advanceBtn").classList.add("invisible"),execBtn.disabled=!1,resetBtn.disabled=!1,finishEarlierButton.disabled=!1):(sceneProperties.phase=sceneProperties.phase>phaseGeneration.length?phaseGeneration.length:sceneProperties.phase,logModal.show())})),finishEarlierButton.addEventListener("click",(e=>{confirm("Deseja realmente finalizar a prática?")&&(clearInterval(timerUpadate),(0,$hfAuX.configureDataAndUpload)(document.getElementById("name"),document.getElementById("age"),"gender","prog-exp",document.getElementById("subBtn"),sceneProperties.timer,"../",`Nível 1/Fase ${sceneProperties.phase+1}`),logModal.show())})),(0,$7FzN9.resizeCanvasToDisplaySize)(renderer,camera),phaseGeneration[sceneProperties.phase](),animate()})),parcelRequire.register("cCC00",(function(e,t){$parcel$export(e.exports,"default",(()=>i));const o=[{filter:new RegExp("^andarFrente(\\s+)?\\((\\s+)?(0|[1-9][0-9]*)(\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^andarTras(\\s+)?\\((\\s+)?(0|[1-9][0-9]*)(\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^girarEsquerda(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^girarDireita(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^darMeiaVolta(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"sequential"},{filter:new RegExp("^coletarCristal(\\s+)?\\((\\s+)?\\)(\\s+)?(;)?$"),type:"normal"}];function i(e){let t="async function runCode(){\n";const i=e.split("\n");let r=!0;for(let e=0;e<i.length;e++){let n,l=!1;if(""!=i[e].trim()){for(let t=0;t<o.length;t++)if(l=o[t].filter.test(i[e].trim()),l){n=o[t].type;break}if(!l){a=i[e],s=e+1,document.getElementById("consoleArea").innerText+=`Código inválido: ${a} linha: ${s}\n`,r=!1;break}if("sequential"===n){t+="await "+i[e].trim()+"\n"}else{t+=i[e].trim()+"\n"}}}var a,s;return r?(t+="}\nrunCode()",t):null}})),parcelRequire.register("hfAuX",(function(e,t){$parcel$export(e.exports,"displayTime",(()=>o)),$parcel$export(e.exports,"configureDataAndUpload",(()=>i));function o(e,t){let o=Math.floor(e/3600),i=Math.floor(e/60)%60,r=Math.floor(e%60);t.innerText=`Tempo: ${o<10?"0"+o:o}:${i<10?"0"+i:i}:${r<10?"0"+r:r}`}async function i(e,t,o,i,r,a,s,n){r.addEventListener("click",(async()=>{let l=document.querySelector(`input[name="${o}"]:checked`),c=document.querySelector(`input[name="${i}"]:checked`),d=Math.floor(a/3600),p=Math.floor(a/60)%60,g=Math.floor(a%60),m=e.value,b=t.value,u=null!=l?l.value:null,v=null!=c?c.value:null;if(null!=m&&""!=m&&null!=b&&""!=b&&null!=u&&""!=u&&null!=v&&""!=v)if(parseFloat(b)>=1){r.disabled=!0;let e=[["entry.1867777838",n],["entry.746491928",m],["entry.1029337756",b],["entry.1806882852",u],["entry.1585862028",v],["entry.2140863999",`${d<10?"0"+d:d}:${p<10?"0"+p:p}:${g<10?"0"+g:g}`]],t=await async function(e){return new Promise(((t,o)=>{let i=new XMLHttpRequest;i.open("POST","https://docs.google.com/forms/d/e/1FAIpQLSeTbA3iFSmgcNeCaFKuXEKQ0mOBg74mow2ISXzESXOI4afhOQ/formResponse",!0);let r=new FormData;for(let t=0;t<e.length;t++)r.append(e[t][0],e[t][1]);i.onreadystatechange=()=>{i.readyState===XMLHttpRequest.DONE&&t(!0)},i.send(r)}))}(e);t?(console.log(e),window.location.href=s):(alert("Ops! Algo deu errado!"),r.disabled=!1)}else alert("Valor da idade incorreto.");else alert("É necessário preencher o formulário para avançar.")}))}})),parcelRequire.register("dhcg3",(function(e,t){$parcel$export(e.exports,"SpikeTrap",(()=>l)),$parcel$export(e.exports,"trapsActivation",(()=>c)),$parcel$export(e.exports,"trapsDeactivation",(()=>d));var o=parcelRequire("4xklQ");let i=.1;class r extends o.Mesh{constructor(){super(new o.BoxGeometry(2,2,2,16,16),new o.MeshLambertMaterial({color:"black"}))}}class a extends o.Mesh{constructor(){super(new o.CylinderGeometry(.15,.15,.001,16,4),new o.MeshLambertMaterial({color:"black"}))}}class s extends o.Mesh{constructor(){super(new o.TorusGeometry(.15,.05,10,20),new o.MeshPhongMaterial({color:"gray"}))}}class n extends o.Mesh{constructor(){super(new o.ConeGeometry(.1,2,16,16),new o.MeshStandardMaterial({color:"white",roughness:.008,metalness:.5,envMap:null,envMapIntensity:.78}))}}class l extends o.Object3D{constructor(){super(),this.index=0,this.x=0,this.z=0,this.active=!0,this.requestID=null,this.alpha=.01;let e=new r;e.position.set(0,-1.01,0);let t=new a;t.position.set(0,0,0);let o=new a;o.position.set(.5,0,.5);let i=new a;i.position.set(.5,0,-.5);let l=new a;l.position.set(-.5,0,.5);let c=new a;c.position.set(-.5,0,-.5);let d=new s;d.position.set(0,0,0),d.rotateX(Math.PI/2);let p=new s;p.position.set(.5,0,.5),p.rotateX(Math.PI/2);let g=new s;g.position.set(.5,0,-.5),g.rotateX(Math.PI/2);let m=new s;m.position.set(-.5,0,.5),m.rotateX(Math.PI/2);let b=new s;b.position.set(-.5,0,-.5),b.rotateX(Math.PI/2);let u=new n;u.position.set(0,1,0);let v=new n;v.position.set(.5,1,.5);let h=new n;h.position.set(.5,1,-.5);let M=new n;M.position.set(-.5,1,.5);let F=new n;return F.position.set(-.5,1,-.5),this.spikes=[u,v,h,M,F],this.add(e),this.add(t),this.add(o),this.add(i),this.add(l),this.add(c),this.add(d),this.add(p),this.add(g),this.add(m),this.add(b),this.add(u),this.add(v),this.add(h),this.add(M),this.add(F),this}positionAlmostEqual(e,t){return console.log(e.toFixed(1)),e.toFixed(1)==t}deactivate(){this.spikes[0].position.y.toFixed(1)>-1?(console.log(this.spikes[0].position.y.toFixed(1)),this.spikes[0].position.lerp(new o.Vector3(0,-1,0),this.alpha),requestID=requestAnimationFrame(this.deactivate)):cancelAnimationFrame(requestID)}}function c(e){for(let r=0;r<e.length;r++){function t(){e[r].spikes[4].position.y.toFixed(1)<1?(cancelAnimationFrame(e[r].requestID),i+=.01,e[r].active=!0,e[r].spikes.forEach((e=>e.position.lerp(new o.Vector3(e.position.x,1,e.position.z),i))),e[r].requestID=requestAnimationFrame(t)):(cancelAnimationFrame(e[r].requestID),i=.01)}t()}}function d(e){for(let r=0;r<e.length;r++){function t(){e[r].spikes[4].position.y.toFixed(1)>-1?(cancelAnimationFrame(e[r].requestID),i+=.001,e[r].active=!1,e[r].spikes.forEach((e=>e.position.lerp(new o.Vector3(e.position.x,-1,e.position.z),i))),e[r].requestID=requestAnimationFrame(t)):(cancelAnimationFrame(e[r].requestID),i=.01)}t()}}})),parcelRequire("2RQXo");